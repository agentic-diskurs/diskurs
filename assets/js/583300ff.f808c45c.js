"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[9526],{5092:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"prompt","title":"Module: Prompt","description":"exception diskurs.prompt.PromptValidationError(message)","source":"@site/docs/prompt.md","sourceDirName":".","slug":"/prompt","permalink":"/diskurs/docs/prompt","draft":false,"unlisted":false,"editUrl":"https://github.com/agentic-diskurs/diskurs/edit/main/docs-site/docs/prompt.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Module: Multistep Agent","permalink":"/diskurs/docs/multistep_agent"},"next":{"title":"Protocols","permalink":"/diskurs/docs/protocols"}}');var t=r(4848),l=r(8453);const i={},a="Module: Prompt",o={},d=[{value:"<em>exception</em> diskurs.prompt.PromptValidationError(message)",id:"exception-diskurspromptpromptvalidationerrormessage",level:3},{value:"add_note()",id:"add_note",level:4},{value:"args",id:"args",level:4},{value:"with_traceback()",id:"with_traceback",level:4},{value:"<em>class</em> diskurs.prompt.DefaultConductorSystemPromptArgument(agent_descriptions)",id:"class-diskurspromptdefaultconductorsystempromptargumentagent_descriptions",level:3},{value:"agent_descriptions <em>: <code>dict</code>[<code>str</code>, <code>str</code>]</em>",id:"agent_descriptions--dictstr-str",level:4},{value:"<em>classmethod</em> from_dict(data)",id:"classmethod-from_dictdata",level:4},{value:"to_dict()",id:"to_dict",level:4},{value:"<em>class</em> diskurs.prompt.DefaultConductorUserPromptArgument(next_agent=None)",id:"class-diskurspromptdefaultconductoruserpromptargumentnext_agentnone",level:3},{value:"next_agent <em>: <code>Optional</code>[<code>str</code>]</em> <em>= None</em>",id:"next_agent--optionalstr--none",level:4},{value:"<em>classmethod</em> from_dict(data)",id:"classmethod-from_dictdata-1",level:4},{value:"to_dict()",id:"to_dict-1",level:4},{value:"diskurs.prompt.load_symbol(symbol_name, loaded_module)",id:"diskurspromptload_symbolsymbol_name-loaded_module",level:3},{value:"diskurs.prompt.load_template(location)",id:"diskurspromptload_templatelocation",level:3},{value:"<em>class</em> diskurs.prompt.PromptParserMixin",id:"class-diskurspromptpromptparsermixin",level:3},{value:"<em>classmethod</em> validate_dataclass(parsed_response, user_prompt_argument, strict=False)",id:"classmethod-validate_dataclassparsed_response-user_prompt_argument-strictfalse",level:4},{value:"<em>classmethod</em> validate_json(llm_response)",id:"classmethod-validate_jsonllm_response",level:4},{value:"parse_user_prompt(llm_response, old_user_prompt_argument, message_type=MessageType.ROUTING)",id:"parse_user_promptllm_response-old_user_prompt_argument-message_typemessagetyperouting",level:4},{value:"<em>class</em> diskurs.prompt.PromptRendererMixin(system_prompt_argument_class, user_prompt_argument_class, system_template, user_template, json_formatting_template=None, is_valid=None, is_final=None)",id:"class-diskurspromptpromptrenderermixinsystem_prompt_argument_class-user_prompt_argument_class-system_template-user_template-json_formatting_templatenone-is_validnone-is_finalnone",level:3},{value:"is_final(user_prompt_argument)",id:"is_finaluser_prompt_argument",level:4},{value:"is_valid(user_prompt_argument)",id:"is_validuser_prompt_argument",level:4},{value:"create_system_prompt_argument(**prompt_args)",id:"create_system_prompt_argumentprompt_args",level:4},{value:"create_user_prompt_argument(**prompt_args)",id:"create_user_prompt_argumentprompt_args",level:4},{value:"render_json_formatting_prompt(prompt_args)",id:"render_json_formatting_promptprompt_args",level:4},{value:"render_system_template(name, prompt_args, return_json=True)",id:"render_system_templatename-prompt_args-return_jsontrue",level:4},{value:"render_user_template(name, prompt_args, message_type=MessageType.CONVERSATION)",id:"render_user_templatename-prompt_args-message_typemessagetypeconversation",level:4},{value:"<em>class</em> diskurs.prompt.PromptLoaderMixin",id:"class-diskurspromptpromptloadermixin",level:3},{value:"<em>classmethod</em> prepare_create(agent_description_filename, code_filename, kwargs, location, system_prompt_argument_class, system_template_filename, user_prompt_argument_class, user_template_filename)",id:"classmethod-prepare_createagent_description_filename-code_filename-kwargs-location-system_prompt_argument_class-system_template_filename-user_prompt_argument_class-user_template_filename",level:4},{value:"<em>classmethod</em> load_prompt_functions(system_prompt_argument_class, user_prompt_argument_class, loaded_module, kwargs)",id:"classmethod-load_prompt_functionssystem_prompt_argument_class-user_prompt_argument_class-loaded_module-kwargs",level:4},{value:"<em>classmethod</em> load_user_assets(agent_description_filename, code_filename, location, system_template_filename, user_template_filename)",id:"classmethod-load_user_assetsagent_description_filename-code_filename-location-system_template_filename-user_template_filename",level:4},{value:"<em>class</em> diskurs.prompt.MultistepPrompt(agent_description, system_template, user_template, system_prompt_argument_class, user_prompt_argument_class, json_formatting_template=None, is_valid=None, is_final=None)",id:"class-diskurspromptmultisteppromptagent_description-system_template-user_template-system_prompt_argument_class-user_prompt_argument_class-json_formatting_templatenone-is_validnone-is_finalnone",level:3},{value:"<em>classmethod</em> create(location, system_prompt_argument_class, user_prompt_argument_class, agent_description_filename=&#39;agent_description.txt&#39;, code_filename=&#39;prompt.py&#39;, user_template_filename=&#39;user_template.jinja2&#39;, system_template_filename=&#39;system_template.jinja2&#39;, **kwargs)",id:"classmethod-createlocation-system_prompt_argument_class-user_prompt_argument_class-agent_description_filenameagent_descriptiontxt-code_filenamepromptpy-user_template_filenameuser_templatejinja2-system_template_filenamesystem_templatejinja2-kwargs",level:4},{value:"<em>classmethod</em> load_prompt_functions(system_prompt_argument_class, user_prompt_argument_class, loaded_module, kwargs)",id:"classmethod-load_prompt_functionssystem_prompt_argument_class-user_prompt_argument_class-loaded_module-kwargs-1",level:4},{value:"render_user_template(name, prompt_args, message_type=MessageType.CONVERSATION)",id:"render_user_templatename-prompt_args-message_typemessagetypeconversation-1",level:4},{value:"create_system_prompt_argument(**prompt_args)",id:"create_system_prompt_argumentprompt_args-1",level:4},{value:"create_user_prompt_argument(**prompt_args)",id:"create_user_prompt_argumentprompt_args-1",level:4},{value:"is_final(user_prompt_argument)",id:"is_finaluser_prompt_argument-1",level:4},{value:"is_valid(user_prompt_argument)",id:"is_validuser_prompt_argument-1",level:4},{value:"<em>classmethod</em> load_user_assets(agent_description_filename, code_filename, location, system_template_filename, user_template_filename)",id:"classmethod-load_user_assetsagent_description_filename-code_filename-location-system_template_filename-user_template_filename-1",level:4},{value:"parse_user_prompt(llm_response, old_user_prompt_argument, message_type=MessageType.ROUTING)",id:"parse_user_promptllm_response-old_user_prompt_argument-message_typemessagetyperouting-1",level:4},{value:"<em>classmethod</em> prepare_create(agent_description_filename, code_filename, kwargs, location, system_prompt_argument_class, system_template_filename, user_prompt_argument_class, user_template_filename)",id:"classmethod-prepare_createagent_description_filename-code_filename-kwargs-location-system_prompt_argument_class-system_template_filename-user_prompt_argument_class-user_template_filename-1",level:4},{value:"render_json_formatting_prompt(prompt_args)",id:"render_json_formatting_promptprompt_args-1",level:4},{value:"render_system_template(name, prompt_args, return_json=True)",id:"render_system_templatename-prompt_args-return_jsontrue-1",level:4},{value:"<em>classmethod</em> validate_dataclass(parsed_response, user_prompt_argument, strict=False)",id:"classmethod-validate_dataclassparsed_response-user_prompt_argument-strictfalse-1",level:4},{value:"<em>classmethod</em> validate_json(llm_response)",id:"classmethod-validate_jsonllm_response-1",level:4},{value:"system_prompt_argument <em>: <code>Type</code>[<code>TypeVar</code>(<code>SystemPromptArg</code>)]</em>",id:"system_prompt_argument--typetypevarsystempromptarg",level:4},{value:"user_prompt_argument <em>: <code>Type</code>[<code>TypeVar</code>(<code>UserPromptArg</code>)]</em>",id:"user_prompt_argument--typetypevaruserpromptarg",level:4},{value:"<em>class</em> diskurs.prompt.ConductorPrompt(agent_description, system_template, user_template, system_prompt_argument_class, user_prompt_argument_class, json_formatting_template=None, longterm_memory_class=None, can_finalize=None, finalize=None, fail=None, topics=None)",id:"class-diskurspromptconductorpromptagent_description-system_template-user_template-system_prompt_argument_class-user_prompt_argument_class-json_formatting_templatenone-longterm_memory_classnone-can_finalizenone-finalizenone-failnone-topicsnone",level:3},{value:"longterm_memory <em>: Type[LongtermMemory]</em>",id:"longterm_memory--typelongtermmemory",level:4},{value:"<em>static</em> create_default_is_valid(topics)",id:"static-create_default_is_validtopics",level:4},{value:"<em>static</em> create_default_is_final(topics)",id:"static-create_default_is_finaltopics",level:4},{value:"<em>classmethod</em> create(location, system_prompt_argument_class, user_prompt_argument_class=None, agent_description_filename=&#39;agent_description.txt&#39;, code_filename=&#39;prompt.py&#39;, user_template_filename=None, system_template_filename=None, **kwargs)",id:"classmethod-createlocation-system_prompt_argument_class-user_prompt_argument_classnone-agent_description_filenameagent_descriptiontxt-code_filenamepromptpy-user_template_filenamenone-system_template_filenamenone-kwargs",level:4},{value:"<em>classmethod</em> load_prompt_functions(system_prompt_argument_class, user_prompt_argument_class, loaded_module, kwargs)",id:"classmethod-load_prompt_functionssystem_prompt_argument_class-user_prompt_argument_class-loaded_module-kwargs-2",level:4},{value:"can_finalize(longterm_memory)",id:"can_finalizelongterm_memory",level:4},{value:"finalize(longterm_memory)",id:"finalizelongterm_memory",level:4},{value:"fail(longterm_memory)",id:"faillongterm_memory",level:4},{value:"init_longterm_memory(**kwargs)",id:"init_longterm_memorykwargs",level:4},{value:"render_user_template(name, prompt_args, message_type=MessageType.CONVERSATION)",id:"render_user_templatename-prompt_args-message_typemessagetypeconversation-2",level:4},{value:"create_system_prompt_argument(**prompt_args)",id:"create_system_prompt_argumentprompt_args-2",level:4},{value:"create_user_prompt_argument(**prompt_args)",id:"create_user_prompt_argumentprompt_args-2",level:4},{value:"is_final(user_prompt_argument)",id:"is_finaluser_prompt_argument-2",level:4},{value:"is_valid(user_prompt_argument)",id:"is_validuser_prompt_argument-2",level:4},{value:"<em>classmethod</em> load_user_assets(agent_description_filename, code_filename, location, system_template_filename, user_template_filename)",id:"classmethod-load_user_assetsagent_description_filename-code_filename-location-system_template_filename-user_template_filename-2",level:4},{value:"parse_user_prompt(llm_response, old_user_prompt_argument, message_type=MessageType.ROUTING)",id:"parse_user_promptllm_response-old_user_prompt_argument-message_typemessagetyperouting-2",level:4},{value:"<em>classmethod</em> prepare_create(agent_description_filename, code_filename, kwargs, location, system_prompt_argument_class, system_template_filename, user_prompt_argument_class, user_template_filename)",id:"classmethod-prepare_createagent_description_filename-code_filename-kwargs-location-system_prompt_argument_class-system_template_filename-user_prompt_argument_class-user_template_filename-2",level:4},{value:"render_json_formatting_prompt(prompt_args)",id:"render_json_formatting_promptprompt_args-2",level:4},{value:"render_system_template(name, prompt_args, return_json=True)",id:"render_system_templatename-prompt_args-return_jsontrue-2",level:4},{value:"<em>classmethod</em> validate_dataclass(parsed_response, user_prompt_argument, strict=False)",id:"classmethod-validate_dataclassparsed_response-user_prompt_argument-strictfalse-2",level:4},{value:"<em>classmethod</em> validate_json(llm_response)",id:"classmethod-validate_jsonllm_response-2",level:4},{value:"system_prompt_argument <em>: Type[SystemPromptArg]</em>",id:"system_prompt_argument--typesystempromptarg",level:4},{value:"user_prompt_argument <em>: Type[UserPromptArg]</em>",id:"user_prompt_argument--typeuserpromptarg",level:4},{value:"<em>class</em> diskurs.prompt.HeuristicPrompt(user_prompt_argument_class, heuristic_sequence, user_template=None, agent_description=&#39;&#39;)",id:"class-diskurspromptheuristicpromptuser_prompt_argument_class-heuristic_sequence-user_templatenone-agent_description",level:3},{value:"user_prompt_argument <em>: <code>Type</code>[<code>PromptArgument</code>]</em>",id:"user_prompt_argument--typepromptargument",level:4},{value:"<em>classmethod</em> create(location, user_prompt_argument_class, agent_description_filename=&#39;agent_description.txt&#39;, user_template_filename=&#39;user_template.jinja2&#39;, code_filename=&#39;prompt.py&#39;, heuristic_sequence_name=&#39;heuristic_sequence&#39;, **kwargs)",id:"classmethod-createlocation-user_prompt_argument_class-agent_description_filenameagent_descriptiontxt-user_template_filenameuser_templatejinja2-code_filenamepromptpy-heuristic_sequence_nameheuristic_sequence-kwargs",level:4},{value:"heuristic_sequence(conversation, call_tool=None)",id:"heuristic_sequenceconversation-call_toolnone",level:4},{value:"create_user_prompt_argument(**prompt_args)",id:"create_user_prompt_argumentprompt_args-3",level:4},{value:"render_user_template(name, prompt_args, message_type=MessageType.CONVERSATION)",id:"render_user_templatename-prompt_args-message_typemessagetypeconversation-3",level:4}];function m(e){const s={a:"a",code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"module-prompt",children:"Module: Prompt"})}),"\n",(0,t.jsxs)(s.h3,{id:"exception-diskurspromptpromptvalidationerrormessage",children:[(0,t.jsx)(s.em,{children:"exception"})," diskurs.prompt.PromptValidationError(message)"]}),"\n",(0,t.jsxs)(s.p,{children:["Bases: ",(0,t.jsx)(s.code,{children:"Exception"})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"message"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"add_note",children:"add_note()"}),"\n",(0,t.jsx)(s.p,{children:"Exception.add_note(note) \u2013\nadd a note to the exception"}),"\n",(0,t.jsx)(s.h4,{id:"args",children:"args"}),"\n",(0,t.jsx)(s.h4,{id:"with_traceback",children:"with_traceback()"}),"\n",(0,t.jsxs)(s.p,{children:["Exception.with_traceback(tb) \u2013\nset self.",(0,t.jsx)(s.em,{children:"_traceback"}),"_ to tb and return self."]}),"\n",(0,t.jsxs)(s.h3,{id:"class-diskurspromptdefaultconductorsystempromptargumentagent_descriptions",children:[(0,t.jsx)(s.em,{children:"class"})," diskurs.prompt.DefaultConductorSystemPromptArgument(agent_descriptions)"]}),"\n",(0,t.jsxs)(s.p,{children:["Bases: ",(0,t.jsx)(s.code,{children:"PromptArgument"})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"agent_descriptions"})," (",(0,t.jsx)(s.em,{children:"dict"})," *[*",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:","})," ",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"agent_descriptions--dictstr-str",children:["agent_descriptions ",(0,t.jsxs)(s.em,{children:[": ",(0,t.jsx)(s.code,{children:"dict"}),"[",(0,t.jsx)(s.code,{children:"str"}),", ",(0,t.jsx)(s.code,{children:"str"}),"]"]})]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-from_dictdata",children:[(0,t.jsx)(s.em,{children:"classmethod"})," from_dict(data)"]}),"\n",(0,t.jsx)(s.h4,{id:"to_dict",children:"to_dict()"}),"\n",(0,t.jsxs)(s.h3,{id:"class-diskurspromptdefaultconductoruserpromptargumentnext_agentnone",children:[(0,t.jsx)(s.em,{children:"class"})," diskurs.prompt.DefaultConductorUserPromptArgument(next_agent=None)"]}),"\n",(0,t.jsxs)(s.p,{children:["Bases: ",(0,t.jsx)(s.code,{children:"PromptArgument"})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"next_agent"})," (",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"next_agent--optionalstr--none",children:["next_agent ",(0,t.jsxs)(s.em,{children:[": ",(0,t.jsx)(s.code,{children:"Optional"}),"[",(0,t.jsx)(s.code,{children:"str"}),"]"]})," ",(0,t.jsx)(s.em,{children:"= None"})]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-from_dictdata-1",children:[(0,t.jsx)(s.em,{children:"classmethod"})," from_dict(data)"]}),"\n",(0,t.jsx)(s.h4,{id:"to_dict-1",children:"to_dict()"}),"\n",(0,t.jsx)(s.h3,{id:"diskurspromptload_symbolsymbol_name-loaded_module",children:"diskurs.prompt.load_symbol(symbol_name, loaded_module)"}),"\n",(0,t.jsx)(s.h3,{id:"diskurspromptload_templatelocation",children:"diskurs.prompt.load_template(location)"}),"\n",(0,t.jsx)(s.p,{children:"Loads a Jinja2 template from the provided file path."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"location"})," (",(0,t.jsx)(s.code,{children:"Path"}),") \u2013 Path to the template file."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"Template"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nJinja2 Template object."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Raises:"}),"\n",(0,t.jsx)(s.strong,{children:"FileNotFoundError"})," \u2013 If the template file does not exist."]}),"\n"]}),"\n",(0,t.jsxs)(s.h3,{id:"class-diskurspromptpromptparsermixin",children:[(0,t.jsx)(s.em,{children:"class"})," diskurs.prompt.PromptParserMixin"]}),"\n",(0,t.jsxs)(s.p,{children:["Bases: ",(0,t.jsx)(s.code,{children:"object"})]}),"\n",(0,t.jsx)(s.p,{children:"Mixin to handle parsing and validation of LLM responses into dataclasses."}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-validate_dataclassparsed_response-user_prompt_argument-strictfalse",children:[(0,t.jsx)(s.em,{children:"classmethod"})," validate_dataclass(parsed_response, user_prompt_argument, strict=False)"]}),"\n",(0,t.jsx)(s.p,{children:"Validate that the JSON fields match the target dataclass.\nIn strict mode, all fields must be present. If not strict, all required fields (without default values)\nmust be present at minimum."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"parsed_response"})," (",(0,t.jsx)(s.code,{children:"dict"}),"[",(0,t.jsx)(s.code,{children:"str"}),", ",(0,t.jsx)(s.code,{children:"Any"}),"]) \u2013 Dictionary representing the LLM\u2019s response."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_prompt_argument"})," (",(0,t.jsx)(s.code,{children:"Type"}),"[",(0,t.jsx)(s.code,{children:"dataclass"}),"]) \u2013 The dataclass type to validate against."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"strict"})," (",(0,t.jsx)(s.code,{children:"bool"}),") \u2013 If True, all fields must be present. If False, required fields must be present."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"dataclass"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nAn instance of the dataclass if validation succeeds."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Raises:"}),"\nLLMResponseParseError if validation fails."]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-validate_jsonllm_response",children:[(0,t.jsx)(s.em,{children:"classmethod"})," validate_json(llm_response)"]}),"\n",(0,t.jsx)(s.p,{children:"Parse and validate the LLM response as JSON, handling nested JSON strings."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"llm_response"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 The raw text response from the LLM."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"dict"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nParsed dictionary if valid JSON."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Raises:"}),"\n",(0,t.jsx)(s.a,{href:"#diskurs.prompt.PromptValidationError",children:(0,t.jsx)(s.strong,{children:"PromptValidationError"})})," \u2013 If the response is not valid JSON."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"parse_user_promptllm_response-old_user_prompt_argument-message_typemessagetyperouting",children:"parse_user_prompt(llm_response, old_user_prompt_argument, message_type=MessageType.ROUTING)"}),"\n",(0,t.jsx)(s.p,{children:"Parse the text returned from the LLM into a structured prompt argument.\nFirst validate the text, then parse it into the prompt argument.\nIf the text is not valid, raise a PromptValidationError, and generate a user prompt with the error message,\nfor the LLM to correct its output."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"llm_response"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 Response from the LLM."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"old_user_prompt_argument"})," (",(0,t.jsx)(s.em,{children:"PromptArgument"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"message_type"})," (",(0,t.jsx)(s.em,{children:"MessageType"}),")"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.em,{children:"PromptArgument"})," | ",(0,t.jsx)(s.em,{children:"ChatMessage"})]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[":param"," old_user_prompt_argument\n",":type"," message_type: ",(0,t.jsx)(s.code,{children:"MessageType"}),"\n",":param"," message_type: Type of message to be created.\n:rtype: ",(0,t.jsx)(s.code,{children:"PromptArgument"})," | ",(0,t.jsx)(s.code,{children:"ChatMessage"}),"\n:return: Validated prompt argument or a ChatMessage with an error message.\n",":raises"," PromptValidationError: If the text is not valid."]}),"\n",(0,t.jsxs)(s.h3,{id:"class-diskurspromptpromptrenderermixinsystem_prompt_argument_class-user_prompt_argument_class-system_template-user_template-json_formatting_templatenone-is_validnone-is_finalnone",children:[(0,t.jsx)(s.em,{children:"class"})," diskurs.prompt.PromptRendererMixin(system_prompt_argument_class, user_prompt_argument_class, system_template, user_template, json_formatting_template=None, is_valid=None, is_final=None)"]}),"\n",(0,t.jsxs)(s.p,{children:["Bases: ",(0,t.jsx)(s.code,{children:"object"})]}),"\n",(0,t.jsx)(s.p,{children:"Mixin to handle the rendering of system and user templates, as well as validation\nThis class can be reused across prompts."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"system_prompt_argument_class"})," (",(0,t.jsx)(s.em,{children:"Type"})," *[*",(0,t.jsx)(s.em,{children:"SystemPromptArg"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_prompt_argument_class"})," (",(0,t.jsx)(s.em,{children:"Type"})," *[*",(0,t.jsx)(s.em,{children:"UserPromptArg"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"system_template"})," (",(0,t.jsx)(s.em,{children:"Template"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_template"})," (",(0,t.jsx)(s.em,{children:"Template"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"json_formatting_template"})," (",(0,t.jsx)(s.em,{children:"Template"})," ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"is_valid"})," (",(0,t.jsx)(s.em,{children:"Callable"})," ",(0,t.jsx)(s.em,{children:"["})," *[*",(0,t.jsx)(s.em,{children:"UserPromptArg"})," ",(0,t.jsx)(s.em,{children:"]"})," ",(0,t.jsx)(s.em,{children:","})," ",(0,t.jsx)(s.em,{children:"bool"})," ",(0,t.jsx)(s.em,{children:"]"}),"  ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"is_final"})," (",(0,t.jsx)(s.em,{children:"Callable"})," ",(0,t.jsx)(s.em,{children:"["})," *[*",(0,t.jsx)(s.em,{children:"UserPromptArg"})," ",(0,t.jsx)(s.em,{children:"]"})," ",(0,t.jsx)(s.em,{children:","})," ",(0,t.jsx)(s.em,{children:"bool"})," ",(0,t.jsx)(s.em,{children:"]"}),"  ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"is_finaluser_prompt_argument",children:"is_final(user_prompt_argument)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"bool"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"user_prompt_argument"})," (",(0,t.jsx)(s.em,{children:"PromptArgument"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"is_validuser_prompt_argument",children:"is_valid(user_prompt_argument)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"bool"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"user_prompt_argument"})," (",(0,t.jsx)(s.em,{children:"PromptArgument"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"create_system_prompt_argumentprompt_args",children:"create_system_prompt_argument(**prompt_args)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"SystemPromptArg"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.em,{children:"dict"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"create_user_prompt_argumentprompt_args",children:"create_user_prompt_argument(**prompt_args)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"UserPromptArg"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.em,{children:"dict"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"render_json_formatting_promptprompt_args",children:"render_json_formatting_prompt(prompt_args)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"str"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.em,{children:"dict"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"render_system_templatename-prompt_args-return_jsontrue",children:"render_system_template(name, prompt_args, return_json=True)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"ChatMessage"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"name"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.em,{children:"PromptArgument"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"return_json"})," (",(0,t.jsx)(s.em,{children:"bool"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"render_user_templatename-prompt_args-message_typemessagetypeconversation",children:"render_user_template(name, prompt_args, message_type=MessageType.CONVERSATION)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"ChatMessage"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"name"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.em,{children:"PromptArgument"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"message_type"})," (",(0,t.jsx)(s.em,{children:"MessageType"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.h3,{id:"class-diskurspromptpromptloadermixin",children:[(0,t.jsx)(s.em,{children:"class"})," diskurs.prompt.PromptLoaderMixin"]}),"\n",(0,t.jsxs)(s.p,{children:["Bases: ",(0,t.jsx)(s.code,{children:"object"})]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-prepare_createagent_description_filename-code_filename-kwargs-location-system_prompt_argument_class-system_template_filename-user_prompt_argument_class-user_template_filename",children:[(0,t.jsx)(s.em,{children:"classmethod"})," prepare_create(agent_description_filename, code_filename, kwargs, location, system_prompt_argument_class, system_template_filename, user_prompt_argument_class, user_template_filename)"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-load_prompt_functionssystem_prompt_argument_class-user_prompt_argument_class-loaded_module-kwargs",children:[(0,t.jsx)(s.em,{children:"classmethod"})," load_prompt_functions(system_prompt_argument_class, user_prompt_argument_class, loaded_module, kwargs)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"dict"}),"[",(0,t.jsx)(s.code,{children:"str"}),", ",(0,t.jsx)(s.code,{children:"Callable"}),"]"]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-load_user_assetsagent_description_filename-code_filename-location-system_template_filename-user_template_filename",children:[(0,t.jsx)(s.em,{children:"classmethod"})," load_user_assets(agent_description_filename, code_filename, location, system_template_filename, user_template_filename)"]}),"\n",(0,t.jsxs)(s.h3,{id:"class-diskurspromptmultisteppromptagent_description-system_template-user_template-system_prompt_argument_class-user_prompt_argument_class-json_formatting_templatenone-is_validnone-is_finalnone",children:[(0,t.jsx)(s.em,{children:"class"})," diskurs.prompt.MultistepPrompt(agent_description, system_template, user_template, system_prompt_argument_class, user_prompt_argument_class, json_formatting_template=None, is_valid=None, is_final=None)"]}),"\n",(0,t.jsxs)(s.p,{children:["Bases: ",(0,t.jsx)(s.a,{href:"#diskurs.prompt.PromptRendererMixin",children:(0,t.jsx)(s.code,{children:"PromptRendererMixin"})}),", ",(0,t.jsx)(s.a,{href:"#diskurs.prompt.PromptParserMixin",children:(0,t.jsx)(s.code,{children:"PromptParserMixin"})}),", ",(0,t.jsx)(s.a,{href:"#diskurs.prompt.PromptLoaderMixin",children:(0,t.jsx)(s.code,{children:"PromptLoaderMixin"})}),", ",(0,t.jsx)(s.a,{href:"/diskurs/docs/protocols#diskurs.protocols.MultistepPrompt",children:(0,t.jsx)(s.code,{children:"MultistepPrompt"})})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"agent_description"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"system_template"})," (",(0,t.jsx)(s.em,{children:"Template"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_template"})," (",(0,t.jsx)(s.em,{children:"Template"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"system_prompt_argument_class"})," (",(0,t.jsx)(s.em,{children:"Type"})," *[*",(0,t.jsx)(s.em,{children:"SystemPromptArg"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_prompt_argument_class"})," (",(0,t.jsx)(s.em,{children:"Type"})," *[*",(0,t.jsx)(s.em,{children:"UserPromptArg"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"json_formatting_template"})," (",(0,t.jsx)(s.em,{children:"Template"})," ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"is_valid"})," (",(0,t.jsx)(s.em,{children:"Callable"})," ",(0,t.jsx)(s.em,{children:"["})," *[*",(0,t.jsx)(s.em,{children:"Any"})," ",(0,t.jsx)(s.em,{children:"]"})," ",(0,t.jsx)(s.em,{children:","})," ",(0,t.jsx)(s.em,{children:"bool"})," ",(0,t.jsx)(s.em,{children:"]"}),"  ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"is_final"})," (",(0,t.jsx)(s.em,{children:"Callable"})," ",(0,t.jsx)(s.em,{children:"["})," *[*",(0,t.jsx)(s.em,{children:"Any"})," ",(0,t.jsx)(s.em,{children:"]"})," ",(0,t.jsx)(s.em,{children:","})," ",(0,t.jsx)(s.em,{children:"bool"})," ",(0,t.jsx)(s.em,{children:"]"}),"  ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-createlocation-system_prompt_argument_class-user_prompt_argument_class-agent_description_filenameagent_descriptiontxt-code_filenamepromptpy-user_template_filenameuser_templatejinja2-system_template_filenamesystem_templatejinja2-kwargs",children:[(0,t.jsx)(s.em,{children:"classmethod"})," create(location, system_prompt_argument_class, user_prompt_argument_class, agent_description_filename='agent_description.txt', code_filename='prompt.py', user_template_filename='user_template.jinja2', system_template_filename='system_template.jinja2', **kwargs)"]}),"\n",(0,t.jsx)(s.p,{children:"Factory method to create a Prompt object. Loads templates and code dynamically\nbased on the provided directory and filenames."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"location"})," (",(0,t.jsx)(s.code,{children:"Path"}),") \u2013 Base path where prompt.py and templates are located."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"system_prompt_argument_class"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 Name of the class that specifies the placeholders of the system prompt template"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_prompt_argument_class"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 Name of the class that specifies the placeholders of the user prompt template"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"agent_description_filename"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 location of the text file containing the agent\u2019s description"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"code_filename"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 Name of the file containing PromptArguments and validation logic."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_template_filename"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 Filename of the user template (Jinja2 format)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"system_template_filename"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 Filename of the system template (Jinja2 format)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"Self"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nAn instance of the Prompt class."]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-load_prompt_functionssystem_prompt_argument_class-user_prompt_argument_class-loaded_module-kwargs-1",children:[(0,t.jsx)(s.em,{children:"classmethod"})," load_prompt_functions(system_prompt_argument_class, user_prompt_argument_class, loaded_module, kwargs)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"dict"}),"[",(0,t.jsx)(s.code,{children:"str"}),", ",(0,t.jsx)(s.code,{children:"Callable"}),"]"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"render_user_templatename-prompt_args-message_typemessagetypeconversation-1",children:"render_user_template(name, prompt_args, message_type=MessageType.CONVERSATION)"}),"\n",(0,t.jsx)(s.p,{children:"Renders the user template with the provided prompt arguments."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for rendering the user template using the given prompt arguments.\nIt generates a ChatMessage object that represents the rendered template."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"name"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 The name of the template to be rendered."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.code,{children:"PromptArgument"}),") \u2013 The prompt arguments to be used for rendering the template."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"message_type"})," (",(0,t.jsx)(s.code,{children:"MessageType"}),") \u2013 The type of the message to be rendered. Defaults to MessageType.CONVERSATION."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"ChatMessage"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nA ChatMessage object containing the rendered template."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"create_system_prompt_argumentprompt_args-1",children:"create_system_prompt_argument(**prompt_args)"}),"\n",(0,t.jsx)(s.p,{children:"Creates an instance of the system prompt argument dataclass."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for generating the system prompt argument\nbased on the provided keyword arguments. The system prompt argument\nis used to configure the initial state and context for the conversation."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.code,{children:"dict"}),") \u2013 Keyword arguments used to initialize the system prompt argument."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"SystemPromptArg"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nAn instance of the system prompt argument dataclass."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"create_user_prompt_argumentprompt_args-1",children:"create_user_prompt_argument(**prompt_args)"}),"\n",(0,t.jsx)(s.p,{children:"Creates an instance of the user prompt argument dataclass."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for generating the user prompt argument\nbased on the provided keyword arguments. The user prompt argument\nis used to configure the user\u2019s input and context for the conversation."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.code,{children:"dict"}),") \u2013 Keyword arguments used to initialize the user prompt argument."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"UserPromptArg"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nAn instance of the user prompt argument dataclass."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"is_finaluser_prompt_argument-1",children:"is_final(user_prompt_argument)"}),"\n",(0,t.jsx)(s.p,{children:"Determines if the user prompt argument indicates the final state."}),"\n",(0,t.jsx)(s.p,{children:"This method checks the provided user prompt argument to determine if it represents\nthe final state in the conversation. It is used to decide whether the conversation\ncan be concluded based on the user\u2019s input."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"user_prompt_argument"})," (",(0,t.jsx)(s.code,{children:"PromptArgument"}),") \u2013 The user prompt argument to be evaluated."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"bool"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nTrue if the user prompt argument indicates the final state, False otherwise."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"is_validuser_prompt_argument-1",children:"is_valid(user_prompt_argument)"}),"\n",(0,t.jsx)(s.p,{children:"Validates the user prompt argument."}),"\n",(0,t.jsx)(s.p,{children:"This method checks if the provided user prompt argument meets the required\ncriteria for validity. It ensures that the user prompt argument is correctly\nstructured and contains the necessary information for further processing."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"user_prompt_argument"})," (",(0,t.jsx)(s.code,{children:"PromptArgument"}),") \u2013 The user prompt argument to be validated."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"bool"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nTrue if the user prompt argument is valid, False otherwise."]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-load_user_assetsagent_description_filename-code_filename-location-system_template_filename-user_template_filename-1",children:[(0,t.jsx)(s.em,{children:"classmethod"})," load_user_assets(agent_description_filename, code_filename, location, system_template_filename, user_template_filename)"]}),"\n",(0,t.jsx)(s.h4,{id:"parse_user_promptllm_response-old_user_prompt_argument-message_typemessagetyperouting-1",children:"parse_user_prompt(llm_response, old_user_prompt_argument, message_type=MessageType.ROUTING)"}),"\n",(0,t.jsx)(s.p,{children:"Parse the text returned from the LLM into a structured prompt argument.\nFirst validate the text, then parse it into the prompt argument.\nIf the text is not valid, raise a PromptValidationError, and generate a user prompt with the error message,\nfor the LLM to correct its output."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"llm_response"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 Response from the LLM."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"old_user_prompt_argument"})," (",(0,t.jsx)(s.em,{children:"PromptArgument"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"message_type"})," (",(0,t.jsx)(s.em,{children:"MessageType"}),")"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.em,{children:"PromptArgument"})," | ",(0,t.jsx)(s.em,{children:"ChatMessage"})]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[":param"," old_user_prompt_argument\n",":type"," message_type: ",(0,t.jsx)(s.code,{children:"MessageType"}),"\n",":param"," message_type: Type of message to be created.\n:rtype: ",(0,t.jsx)(s.code,{children:"PromptArgument"})," | ",(0,t.jsx)(s.code,{children:"ChatMessage"}),"\n:return: Validated prompt argument or a ChatMessage with an error message.\n",":raises"," PromptValidationError: If the text is not valid."]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-prepare_createagent_description_filename-code_filename-kwargs-location-system_prompt_argument_class-system_template_filename-user_prompt_argument_class-user_template_filename-1",children:[(0,t.jsx)(s.em,{children:"classmethod"})," prepare_create(agent_description_filename, code_filename, kwargs, location, system_prompt_argument_class, system_template_filename, user_prompt_argument_class, user_template_filename)"]}),"\n",(0,t.jsx)(s.h4,{id:"render_json_formatting_promptprompt_args-1",children:"render_json_formatting_prompt(prompt_args)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"str"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.em,{children:"dict"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"render_system_templatename-prompt_args-return_jsontrue-1",children:"render_system_template(name, prompt_args, return_json=True)"}),"\n",(0,t.jsx)(s.p,{children:"Renders the system template with the provided prompt arguments."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for rendering the system template using the given prompt arguments.\nIt can optionally return the rendered template as a JSON object."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"name"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 The name of the template to be rendered."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.code,{children:"PromptArgument"}),") \u2013 The prompt arguments to be used for rendering the template."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"return_json"})," (",(0,t.jsx)(s.code,{children:"bool"}),") \u2013 If True, the rendered template will be returned as a JSON object. Defaults to True."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"ChatMessage"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nA ChatMessage object containing the rendered template."]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-validate_dataclassparsed_response-user_prompt_argument-strictfalse-1",children:[(0,t.jsx)(s.em,{children:"classmethod"})," validate_dataclass(parsed_response, user_prompt_argument, strict=False)"]}),"\n",(0,t.jsx)(s.p,{children:"Validate that the JSON fields match the target dataclass.\nIn strict mode, all fields must be present. If not strict, all required fields (without default values)\nmust be present at minimum."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"parsed_response"})," (",(0,t.jsx)(s.code,{children:"dict"}),"[",(0,t.jsx)(s.code,{children:"str"}),", ",(0,t.jsx)(s.code,{children:"Any"}),"]) \u2013 Dictionary representing the LLM\u2019s response."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_prompt_argument"})," (",(0,t.jsx)(s.code,{children:"Type"}),"[",(0,t.jsx)(s.code,{children:"dataclass"}),"]) \u2013 The dataclass type to validate against."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"strict"})," (",(0,t.jsx)(s.code,{children:"bool"}),") \u2013 If True, all fields must be present. If False, required fields must be present."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"dataclass"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nAn instance of the dataclass if validation succeeds."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Raises:"}),"\nLLMResponseParseError if validation fails."]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-validate_jsonllm_response-1",children:[(0,t.jsx)(s.em,{children:"classmethod"})," validate_json(llm_response)"]}),"\n",(0,t.jsx)(s.p,{children:"Parse and validate the LLM response as JSON, handling nested JSON strings."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"llm_response"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 The raw text response from the LLM."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"dict"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nParsed dictionary if valid JSON."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Raises:"}),"\n",(0,t.jsx)(s.a,{href:"#diskurs.prompt.PromptValidationError",children:(0,t.jsx)(s.strong,{children:"PromptValidationError"})})," \u2013 If the response is not valid JSON."]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"system_prompt_argument--typetypevarsystempromptarg",children:["system_prompt_argument ",(0,t.jsxs)(s.em,{children:[": ",(0,t.jsx)(s.code,{children:"Type"}),"[",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"SystemPromptArg"}),")]"]})]}),"\n",(0,t.jsxs)(s.h4,{id:"user_prompt_argument--typetypevaruserpromptarg",children:["user_prompt_argument ",(0,t.jsxs)(s.em,{children:[": ",(0,t.jsx)(s.code,{children:"Type"}),"[",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"UserPromptArg"}),")]"]})]}),"\n",(0,t.jsxs)(s.h3,{id:"class-diskurspromptconductorpromptagent_description-system_template-user_template-system_prompt_argument_class-user_prompt_argument_class-json_formatting_templatenone-longterm_memory_classnone-can_finalizenone-finalizenone-failnone-topicsnone",children:[(0,t.jsx)(s.em,{children:"class"})," diskurs.prompt.ConductorPrompt(agent_description, system_template, user_template, system_prompt_argument_class, user_prompt_argument_class, json_formatting_template=None, longterm_memory_class=None, can_finalize=None, finalize=None, fail=None, topics=None)"]}),"\n",(0,t.jsxs)(s.p,{children:["Bases: ",(0,t.jsx)(s.a,{href:"#diskurs.prompt.PromptRendererMixin",children:(0,t.jsx)(s.code,{children:"PromptRendererMixin"})}),", ",(0,t.jsx)(s.a,{href:"#diskurs.prompt.PromptParserMixin",children:(0,t.jsx)(s.code,{children:"PromptParserMixin"})}),", ",(0,t.jsx)(s.a,{href:"#diskurs.prompt.PromptLoaderMixin",children:(0,t.jsx)(s.code,{children:"PromptLoaderMixin"})}),", ",(0,t.jsx)(s.a,{href:"/diskurs/docs/protocols#diskurs.protocols.ConductorPrompt",children:(0,t.jsx)(s.code,{children:"ConductorPrompt"})})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"agent_description"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"system_template"})," (",(0,t.jsx)(s.em,{children:"Template"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_template"})," (",(0,t.jsx)(s.em,{children:"Template"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"system_prompt_argument_class"})," (",(0,t.jsx)(s.em,{children:"Type"})," *[*",(0,t.jsx)(s.em,{children:"SystemPromptArg"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_prompt_argument_class"})," (",(0,t.jsx)(s.em,{children:"Type"})," *[*",(0,t.jsx)(s.em,{children:"UserPromptArg"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"json_formatting_template"})," (",(0,t.jsx)(s.em,{children:"Template"})," ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"longterm_memory_class"})," (",(0,t.jsx)(s.em,{children:"Type"})," *[*",(0,t.jsx)(s.em,{children:"GenericConductorLongtermMemory"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"can_finalize"})," (",(0,t.jsx)(s.em,{children:"Callable"})," ",(0,t.jsx)(s.em,{children:"["})," *[*",(0,t.jsx)(s.em,{children:"GenericConductorLongtermMemory"})," ",(0,t.jsx)(s.em,{children:"]"})," ",(0,t.jsx)(s.em,{children:","})," ",(0,t.jsx)(s.em,{children:"bool"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"finalize"})," (",(0,t.jsx)(s.em,{children:"Callable"})," ",(0,t.jsx)(s.em,{children:"["})," *[*",(0,t.jsx)(s.em,{children:"GenericConductorLongtermMemory"})," ",(0,t.jsx)(s.em,{children:"]"})," ",(0,t.jsx)(s.em,{children:","})," ",(0,t.jsx)(s.em,{children:"dict"})," *[*",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:","})," ",(0,t.jsx)(s.em,{children:"Any"})," ",(0,t.jsx)(s.em,{children:"]"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"fail"})," (",(0,t.jsx)(s.em,{children:"Callable"})," ",(0,t.jsx)(s.em,{children:"["})," *[*",(0,t.jsx)(s.em,{children:"GenericConductorLongtermMemory"})," ",(0,t.jsx)(s.em,{children:"]"})," ",(0,t.jsx)(s.em,{children:","})," ",(0,t.jsx)(s.em,{children:"dict"})," *[*",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:","})," ",(0,t.jsx)(s.em,{children:"Any"})," ",(0,t.jsx)(s.em,{children:"]"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"topics"})," (",(0,t.jsx)(s.em,{children:"list"})," *[*",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"longterm_memory--typelongtermmemory",children:["longterm_memory ",(0,t.jsx)(s.em,{children:": Type[LongtermMemory]"})]}),"\n",(0,t.jsxs)(s.h4,{id:"static-create_default_is_validtopics",children:[(0,t.jsx)(s.em,{children:"static"})," create_default_is_valid(topics)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"Callable"}),"[[",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"UserPromptArg"}),")], ",(0,t.jsx)(s.code,{children:"bool"}),"]"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"topics"})," (",(0,t.jsx)(s.em,{children:"list"})," *[*",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"static-create_default_is_finaltopics",children:[(0,t.jsx)(s.em,{children:"static"})," create_default_is_final(topics)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"Callable"}),"[[",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"UserPromptArg"}),")], ",(0,t.jsx)(s.code,{children:"bool"}),"]"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"topics"})," (",(0,t.jsx)(s.em,{children:"list"})," *[*",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-createlocation-system_prompt_argument_class-user_prompt_argument_classnone-agent_description_filenameagent_descriptiontxt-code_filenamepromptpy-user_template_filenamenone-system_template_filenamenone-kwargs",children:[(0,t.jsx)(s.em,{children:"classmethod"})," create(location, system_prompt_argument_class, user_prompt_argument_class=None, agent_description_filename='agent_description.txt', code_filename='prompt.py', user_template_filename=None, system_template_filename=None, **kwargs)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.a,{href:"#diskurs.prompt.ConductorPrompt",children:(0,t.jsx)(s.code,{children:"ConductorPrompt"})})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"location"})," (",(0,t.jsx)(s.em,{children:"Path"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"system_prompt_argument_class"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_prompt_argument_class"})," (",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"agent_description_filename"})," (",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"code_filename"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_template_filename"})," (",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"system_template_filename"})," (",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-load_prompt_functionssystem_prompt_argument_class-user_prompt_argument_class-loaded_module-kwargs-2",children:[(0,t.jsx)(s.em,{children:"classmethod"})," load_prompt_functions(system_prompt_argument_class, user_prompt_argument_class, loaded_module, kwargs)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"dict"}),"[",(0,t.jsx)(s.code,{children:"str"}),", ",(0,t.jsx)(s.code,{children:"Callable"}),"]"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"can_finalizelongterm_memory",children:"can_finalize(longterm_memory)"}),"\n",(0,t.jsx)(s.p,{children:"Determines if the conductor can finalize based on the long-term memory."}),"\n",(0,t.jsx)(s.p,{children:"This method evaluates the provided long-term memory to decide whether the\nconversation can be concluded. It checks if the necessary conditions are met\nfor finalizing the conversation."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"longterm_memory"})," (",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"GenericConductorLongtermMemory"}),", bound= ConductorLongtermMemory)) \u2013 The long-term memory to be evaluated."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"bool"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nTrue if the conversation can be finalized, False otherwise."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"finalizelongterm_memory",children:"finalize(longterm_memory)"}),"\n",(0,t.jsx)(s.p,{children:"Finalizes the conversation based on the long-term memory."}),"\n",(0,t.jsx)(s.p,{children:"This method processes the provided long-term memory to generate a final response\nfor the conversation. It is responsible for concluding the conversation by\nutilizing the accumulated long-term memory data."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"longterm_memory"})," (",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"GenericConductorLongtermMemory"}),", bound= ConductorLongtermMemory)) \u2013 The long-term memory to be used for finalizing the conversation."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"GenericConductorLongtermMemory"}),", bound= ConductorLongtermMemory)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nA dictionary containing the final response data."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"faillongterm_memory",children:"fail(longterm_memory)"}),"\n",(0,t.jsx)(s.p,{children:"Handles the case failure i.e. when the long-term memory does not meet the criteria defined\nfor finalization."}),"\n",(0,t.jsx)(s.p,{children:"This method processes the provided long-term memory to generate a failure response\nfor the conversation. It is responsible for concluding the conversation in a failure\nstate by utilizing the accumulated long-term memory data."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"longterm_memory"})," (",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"GenericConductorLongtermMemory"}),", bound= ConductorLongtermMemory)) \u2013 The long-term memory to be used for generating the failure response."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"GenericConductorLongtermMemory"}),", bound= ConductorLongtermMemory)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nA dictionary containing the failure response data."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"init_longterm_memorykwargs",children:"init_longterm_memory(**kwargs)"}),"\n",(0,t.jsx)(s.p,{children:"Initializes the long-term memory."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for creating and initializing the long-term memory\nfor the conductor agent. It uses the provided keyword arguments to set up the\ninitial state of the long-term memory."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"kwargs"})," \u2013 Keyword arguments used to initialize the long-term memory."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"GenericConductorLongtermMemory"}),", bound= ConductorLongtermMemory)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nAn instance of the LongtermMemory class."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"render_user_templatename-prompt_args-message_typemessagetypeconversation-2",children:"render_user_template(name, prompt_args, message_type=MessageType.CONVERSATION)"}),"\n",(0,t.jsx)(s.p,{children:"Renders the user template with the provided prompt arguments."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for rendering the user template using the given prompt arguments.\nIt generates a ChatMessage object that represents the rendered template."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"name"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 The name of the template to be rendered."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.code,{children:"PromptArgument"}),") \u2013 The prompt arguments to be used for rendering the template."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"message_type"})," (",(0,t.jsx)(s.code,{children:"MessageType"}),") \u2013 The type of the message to be rendered. Defaults to MessageType.CONVERSATION."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"ChatMessage"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nA ChatMessage object containing the rendered template."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"create_system_prompt_argumentprompt_args-2",children:"create_system_prompt_argument(**prompt_args)"}),"\n",(0,t.jsx)(s.p,{children:"Creates an instance of the system prompt argument dataclass."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for generating the system prompt argument\nbased on the provided keyword arguments. The system prompt argument\nis used to configure the initial state and context for the conversation."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.code,{children:"dict"}),") \u2013 Keyword arguments used to initialize the system prompt argument."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"SystemPromptArg"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nAn instance of the system prompt argument dataclass."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"create_user_prompt_argumentprompt_args-2",children:"create_user_prompt_argument(**prompt_args)"}),"\n",(0,t.jsx)(s.p,{children:"Creates an instance of the user prompt argument dataclass."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for generating the user prompt argument\nbased on the provided keyword arguments. The user prompt argument\nis used to configure the user\u2019s input and context for the conversation."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.code,{children:"dict"}),") \u2013 Keyword arguments used to initialize the user prompt argument."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"TypeVar"}),"(",(0,t.jsx)(s.code,{children:"UserPromptArg"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nAn instance of the user prompt argument dataclass."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"is_finaluser_prompt_argument-2",children:"is_final(user_prompt_argument)"}),"\n",(0,t.jsx)(s.p,{children:"Determines if the user prompt argument indicates the final state."}),"\n",(0,t.jsx)(s.p,{children:"This method checks the provided user prompt argument to determine if it represents\nthe final state in the conversation. It is used to decide whether the conversation\ncan be concluded based on the user\u2019s input."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"user_prompt_argument"})," (",(0,t.jsx)(s.code,{children:"PromptArgument"}),") \u2013 The user prompt argument to be evaluated."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"bool"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nTrue if the user prompt argument indicates the final state, False otherwise."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"is_validuser_prompt_argument-2",children:"is_valid(user_prompt_argument)"}),"\n",(0,t.jsx)(s.p,{children:"Validates the user prompt argument."}),"\n",(0,t.jsx)(s.p,{children:"This method checks if the provided user prompt argument meets the required\ncriteria for validity. It ensures that the user prompt argument is correctly\nstructured and contains the necessary information for further processing."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"user_prompt_argument"})," (",(0,t.jsx)(s.code,{children:"PromptArgument"}),") \u2013 The user prompt argument to be validated."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"bool"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nTrue if the user prompt argument is valid, False otherwise."]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-load_user_assetsagent_description_filename-code_filename-location-system_template_filename-user_template_filename-2",children:[(0,t.jsx)(s.em,{children:"classmethod"})," load_user_assets(agent_description_filename, code_filename, location, system_template_filename, user_template_filename)"]}),"\n",(0,t.jsx)(s.h4,{id:"parse_user_promptllm_response-old_user_prompt_argument-message_typemessagetyperouting-2",children:"parse_user_prompt(llm_response, old_user_prompt_argument, message_type=MessageType.ROUTING)"}),"\n",(0,t.jsx)(s.p,{children:"Parse the text returned from the LLM into a structured prompt argument.\nFirst validate the text, then parse it into the prompt argument.\nIf the text is not valid, raise a PromptValidationError, and generate a user prompt with the error message,\nfor the LLM to correct its output."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"llm_response"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 Response from the LLM."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"old_user_prompt_argument"})," (",(0,t.jsx)(s.em,{children:"PromptArgument"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"message_type"})," (",(0,t.jsx)(s.em,{children:"MessageType"}),")"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.em,{children:"PromptArgument"})," | ",(0,t.jsx)(s.em,{children:"ChatMessage"})]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[":param"," old_user_prompt_argument\n",":type"," message_type: ",(0,t.jsx)(s.code,{children:"MessageType"}),"\n",":param"," message_type: Type of message to be created.\n:rtype: ",(0,t.jsx)(s.code,{children:"PromptArgument"})," | ",(0,t.jsx)(s.code,{children:"ChatMessage"}),"\n:return: Validated prompt argument or a ChatMessage with an error message.\n",":raises"," PromptValidationError: If the text is not valid."]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-prepare_createagent_description_filename-code_filename-kwargs-location-system_prompt_argument_class-system_template_filename-user_prompt_argument_class-user_template_filename-2",children:[(0,t.jsx)(s.em,{children:"classmethod"})," prepare_create(agent_description_filename, code_filename, kwargs, location, system_prompt_argument_class, system_template_filename, user_prompt_argument_class, user_template_filename)"]}),"\n",(0,t.jsx)(s.h4,{id:"render_json_formatting_promptprompt_args-2",children:"render_json_formatting_prompt(prompt_args)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"str"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.em,{children:"dict"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"render_system_templatename-prompt_args-return_jsontrue-2",children:"render_system_template(name, prompt_args, return_json=True)"}),"\n",(0,t.jsx)(s.p,{children:"Renders the system template with the provided prompt arguments."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for rendering the system template using the given prompt arguments.\nIt can optionally return the rendered template as a JSON object."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"name"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 The name of the template to be rendered."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.code,{children:"PromptArgument"}),") \u2013 The prompt arguments to be used for rendering the template."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"return_json"})," (",(0,t.jsx)(s.code,{children:"bool"}),") \u2013 If True, the rendered template will be returned as a JSON object. Defaults to True."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"ChatMessage"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nA ChatMessage object containing the rendered template."]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-validate_dataclassparsed_response-user_prompt_argument-strictfalse-2",children:[(0,t.jsx)(s.em,{children:"classmethod"})," validate_dataclass(parsed_response, user_prompt_argument, strict=False)"]}),"\n",(0,t.jsx)(s.p,{children:"Validate that the JSON fields match the target dataclass.\nIn strict mode, all fields must be present. If not strict, all required fields (without default values)\nmust be present at minimum."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"parsed_response"})," (",(0,t.jsx)(s.code,{children:"dict"}),"[",(0,t.jsx)(s.code,{children:"str"}),", ",(0,t.jsx)(s.code,{children:"Any"}),"]) \u2013 Dictionary representing the LLM\u2019s response."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_prompt_argument"})," (",(0,t.jsx)(s.code,{children:"Type"}),"[",(0,t.jsx)(s.code,{children:"dataclass"}),"]) \u2013 The dataclass type to validate against."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"strict"})," (",(0,t.jsx)(s.code,{children:"bool"}),") \u2013 If True, all fields must be present. If False, required fields must be present."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"dataclass"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nAn instance of the dataclass if validation succeeds."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Raises:"}),"\nLLMResponseParseError if validation fails."]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-validate_jsonllm_response-2",children:[(0,t.jsx)(s.em,{children:"classmethod"})," validate_json(llm_response)"]}),"\n",(0,t.jsx)(s.p,{children:"Parse and validate the LLM response as JSON, handling nested JSON strings."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"llm_response"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 The raw text response from the LLM."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"dict"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nParsed dictionary if valid JSON."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Raises:"}),"\n",(0,t.jsx)(s.a,{href:"#diskurs.prompt.PromptValidationError",children:(0,t.jsx)(s.strong,{children:"PromptValidationError"})})," \u2013 If the response is not valid JSON."]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"system_prompt_argument--typesystempromptarg",children:["system_prompt_argument ",(0,t.jsx)(s.em,{children:": Type[SystemPromptArg]"})]}),"\n",(0,t.jsxs)(s.h4,{id:"user_prompt_argument--typeuserpromptarg",children:["user_prompt_argument ",(0,t.jsx)(s.em,{children:": Type[UserPromptArg]"})]}),"\n",(0,t.jsxs)(s.h3,{id:"class-diskurspromptheuristicpromptuser_prompt_argument_class-heuristic_sequence-user_templatenone-agent_description",children:[(0,t.jsx)(s.em,{children:"class"})," diskurs.prompt.HeuristicPrompt(user_prompt_argument_class, heuristic_sequence, user_template=None, agent_description='')"]}),"\n",(0,t.jsxs)(s.p,{children:["Bases: ",(0,t.jsx)(s.a,{href:"/diskurs/docs/protocols#diskurs.protocols.HeuristicPrompt",children:(0,t.jsx)(s.code,{children:"HeuristicPrompt"})})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_prompt_argument_class"})," (",(0,t.jsx)(s.em,{children:"Type"})," *[*",(0,t.jsx)(s.em,{children:"PromptArgument"})," ",(0,t.jsx)(s.em,{children:"]"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"heuristic_sequence"})," (",(0,t.jsx)(s.a,{href:"/diskurs/docs/protocols#diskurs.protocols.HeuristicSequence",children:(0,t.jsx)(s.em,{children:"HeuristicSequence"})}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_template"})," (",(0,t.jsx)(s.em,{children:"Template"})," ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"agent_description"})," (",(0,t.jsx)(s.em,{children:"str"})," ",(0,t.jsx)(s.em,{children:"|"})," ",(0,t.jsx)(s.em,{children:"None"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"user_prompt_argument--typepromptargument",children:["user_prompt_argument ",(0,t.jsxs)(s.em,{children:[": ",(0,t.jsx)(s.code,{children:"Type"}),"[",(0,t.jsx)(s.code,{children:"PromptArgument"}),"]"]})]}),"\n",(0,t.jsxs)(s.h4,{id:"classmethod-createlocation-user_prompt_argument_class-agent_description_filenameagent_descriptiontxt-user_template_filenameuser_templatejinja2-code_filenamepromptpy-heuristic_sequence_nameheuristic_sequence-kwargs",children:[(0,t.jsx)(s.em,{children:"classmethod"})," create(location, user_prompt_argument_class, agent_description_filename='agent_description.txt', user_template_filename='user_template.jinja2', code_filename='prompt.py', heuristic_sequence_name='heuristic_sequence', **kwargs)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"Self"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"location"})," (",(0,t.jsx)(s.em,{children:"Path"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_prompt_argument_class"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"agent_description_filename"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"user_template_filename"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"code_filename"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"heuristic_sequence_name"})," (",(0,t.jsx)(s.em,{children:"str"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"heuristic_sequenceconversation-call_toolnone",children:"heuristic_sequence(conversation, call_tool=None)"}),"\n",(0,t.jsx)(s.p,{children:"Executes a heuristic sequence on the given conversation."}),"\n",(0,t.jsx)(s.p,{children:"This method processes the conversation using a series of heuristic steps,\noptionally utilizing a tool for specific operations. The heuristic sequence\nis designed to guide the conversation towards a desired outcome based on\npredefined rules and logic."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"conversation"})," (",(0,t.jsx)(s.a,{href:"/diskurs/docs/protocols#diskurs.protocols.Conversation",children:(0,t.jsx)(s.code,{children:"Conversation"})}),") \u2013 The conversation object to be processed."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"call_tool"})," (",(0,t.jsx)(s.code,{children:"Optional"}),"[",(0,t.jsx)(s.a,{href:"/diskurs/docs/protocols#diskurs.protocols.CallTool",children:(0,t.jsx)(s.code,{children:"CallTool"})}),"]) \u2013 An optional callable tool that can be used during the heuristic sequence."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.a,{href:"/diskurs/docs/protocols#diskurs.protocols.Conversation",children:(0,t.jsx)(s.code,{children:"Conversation"})})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nThe updated conversation object after processing the heuristic sequence."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"create_user_prompt_argumentprompt_args-3",children:"create_user_prompt_argument(**prompt_args)"}),"\n",(0,t.jsx)(s.p,{children:"Creates an instance of the user prompt argument dataclass."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for generating the user prompt argument\nbased on the provided keyword arguments. The user prompt argument\nis used to configure the user\u2019s input and context for the conversation."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsx)(s.strong,{children:"prompt_args"})," \u2013 Keyword arguments used to initialize the user prompt argument."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"PromptArgument"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nAn instance of the user prompt argument dataclass."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"render_user_templatename-prompt_args-message_typemessagetypeconversation-3",children:"render_user_template(name, prompt_args, message_type=MessageType.CONVERSATION)"}),"\n",(0,t.jsx)(s.p,{children:"Renders the user template with the provided prompt arguments."}),"\n",(0,t.jsx)(s.p,{children:"This method is responsible for rendering the user template using the given prompt arguments.\nIt generates a ChatMessage object that represents the rendered template."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"name"})," (",(0,t.jsx)(s.code,{children:"str"}),") \u2013 The name of the template to be rendered."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"prompt_args"})," (",(0,t.jsx)(s.code,{children:"PromptArgument"}),") \u2013 The prompt arguments to be used for rendering the template."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"message_type"})," (",(0,t.jsx)(s.code,{children:"MessageType"}),") \u2013 The type of the message to be rendered. Defaults to MessageType.CONVERSATION."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Return type:"}),"\n",(0,t.jsx)(s.code,{children:"ChatMessage"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Returns:"}),"\nA ChatMessage object containing the rendered template."]}),"\n"]})]})}function c(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>i,x:()=>a});var n=r(6540);const t={},l=n.createContext(t);function i(e){const s=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);