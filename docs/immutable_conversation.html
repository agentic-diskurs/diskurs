<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-immutable_conversation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.1">
<title data-rh="true">Module: Immutable Conversation | Diskurs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://agentic-diskurs.github.io/diskurs/img/diskurs-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://agentic-diskurs.github.io/diskurs/img/diskurs-social-card.jpg"><meta data-rh="true" property="og:url" content="https://agentic-diskurs.github.io/diskurs/docs/immutable_conversation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Module: Immutable Conversation | Diskurs"><meta data-rh="true" name="description" content="class diskurs.immutableconversation.ImmutableConversation(systemprompt=None, userprompt=None, systempromptargument=None, userpromptargument=None, chat=None, longtermmemory=None, metadata=None, activeagent=&#x27;&#x27;, conversationid=&#x27;&#x27;)"><meta data-rh="true" property="og:description" content="class diskurs.immutableconversation.ImmutableConversation(systemprompt=None, userprompt=None, systempromptargument=None, userpromptargument=None, chat=None, longtermmemory=None, metadata=None, activeagent=&#x27;&#x27;, conversationid=&#x27;&#x27;)"><link data-rh="true" rel="icon" href="/diskurs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://agentic-diskurs.github.io/diskurs/docs/immutable_conversation"><link data-rh="true" rel="alternate" href="https://agentic-diskurs.github.io/diskurs/docs/immutable_conversation" hreflang="en"><link data-rh="true" rel="alternate" href="https://agentic-diskurs.github.io/diskurs/docs/immutable_conversation" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/diskurs/blog/rss.xml" title="Diskurs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/diskurs/blog/atom.xml" title="Diskurs Atom Feed"><link rel="stylesheet" href="/diskurs/assets/css/styles.7a6aa77d.css">
<script src="/diskurs/assets/js/runtime~main.d886a170.js" defer="defer"></script>
<script src="/diskurs/assets/js/main.edf29e07.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/diskurs/"><div class="navbar__logo"><img src="/diskurs/img/logo.svg" alt="Diskurs Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/diskurs/img/logo.svg" alt="Diskurs Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Diskurs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/diskurs/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/diskurs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/agentic-diskurs/diskurs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/diskurs/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/diskurs/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/diskurs/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/diskurs/docs/conductor_agent">Module: Conductor Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/diskurs/docs/dispatcher">Module: Dispatcher</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/diskurs/docs/filesystem_conversation_store">Module: Filesystem Conversation Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/diskurs/docs/heuristic_agent">Module: Heuristic Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/diskurs/docs/immutable_conversation">Module: Immutable Conversation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/diskurs/docs">Welcome to Diskurs’s documentation!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/diskurs/docs/llm_client">Module: LLM Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/diskurs/docs/multistep_agent">Module: Multistep Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/diskurs/docs/prompt">Module: Prompt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/diskurs/docs/protocols">Protocols</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/diskurs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Module: Immutable Conversation</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Module: Immutable Conversation</h1></header>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="class-diskursimmutable_conversationimmutableconversationsystem_promptnone-user_promptnone-system_prompt_argumentnone-user_prompt_argumentnone-chatnone-longterm_memorynone-metadatanone-active_agent-conversation_id"><em>class</em> diskurs.immutable_conversation.ImmutableConversation(system_prompt=None, user_prompt=None, system_prompt_argument=None, user_prompt_argument=None, chat=None, longterm_memory=None, metadata=None, active_agent=&#x27;&#x27;, conversation_id=&#x27;&#x27;)<a href="#class-diskursimmutable_conversationimmutableconversationsystem_promptnone-user_promptnone-system_prompt_argumentnone-user_prompt_argumentnone-chatnone-longterm_memorynone-metadatanone-active_agent-conversation_id" class="hash-link" aria-label="Direct link to class-diskursimmutable_conversationimmutableconversationsystem_promptnone-user_promptnone-system_prompt_argumentnone-user_prompt_argumentnone-chatnone-longterm_memorynone-metadatanone-active_agent-conversation_id" title="Direct link to class-diskursimmutable_conversationimmutableconversationsystem_promptnone-user_promptnone-system_prompt_argumentnone-user_prompt_argumentnone-chatnone-longterm_memorynone-metadatanone-active_agent-conversation_id">​</a></h3>
<p>Bases: <a href="/diskurs/docs/protocols#diskurs.protocols.Conversation"><code>Conversation</code></a></p>
<ul>
<li><strong>Parameters:</strong>
<ul>
<li><strong>system_prompt</strong> (<em>ChatMessage</em> <em>|</em> <em>None</em>)</li>
<li><strong>user_prompt</strong> (<em>ChatMessage</em> <em>|</em> <em>None</em>)</li>
<li><strong>system_prompt_argument</strong> (<em>GenericSystemPromptArg</em> <em>|</em> <em>None</em>)</li>
<li><strong>user_prompt_argument</strong> (<em>GenericUserPromptArg</em> <em>|</em> <em>None</em>)</li>
<li><strong>longterm_memory</strong> (<em>dict</em> *[*<em>str</em> <em>,</em> <em>LongtermMemory</em> <em>]</em>  <em>|</em> <em>None</em>)</li>
<li><strong>metadata</strong> (<em>dict</em> *[*<em>str</em> <em>,</em> <em>str</em> <em>]</em>  <em>|</em> <em>None</em>)</li>
<li><strong>active_agent</strong> (<em>str</em>)</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="property-conversation_id--str"><em>property</em> conversation_id <em>: str</em><a href="#property-conversation_id--str" class="hash-link" aria-label="Direct link to property-conversation_id--str" title="Direct link to property-conversation_id--str">​</a></h4>
<p>Retrieves the unique identifier for the conversation.</p>
<p>This method returns the conversation ID, which is a unique string
used to identify the conversation instance. The conversation ID
is typically used for tracking and managing conversations within
the system.</p>
<ul>
<li><strong>Returns:</strong>
The unique identifier for the conversation.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="property-active_agent"><em>property</em> active_agent<a href="#property-active_agent" class="hash-link" aria-label="Direct link to property-active_agent" title="Direct link to property-active_agent">​</a></h4>
<p>Retrieves the name of the active agent.</p>
<p>The active agent is the agent currently responsible for processing the conversation.
This method returns the name of the active agent as a string.</p>
<ul>
<li><strong>Returns:</strong>
The name of the active agent.</li>
<li><strong>Return type:</strong>
str</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="property-chat--listchatmessage"><em>property</em> chat <em>: list[ChatMessage]</em><a href="#property-chat--listchatmessage" class="hash-link" aria-label="Direct link to property-chat--listchatmessage" title="Direct link to property-chat--listchatmessage">​</a></h4>
<p>Provides a deep copy of the chat messages to ensure immutability.</p>
<p>This method returns a list of ChatMessage objects representing the conversation’s chat history.
The returned list is a deep copy, ensuring that the original chat messages remain unchanged.</p>
<ul>
<li><strong>Returns:</strong>
A deep copy of the list of chat messages.</li>
<li><strong>Return type:</strong>
List[ChatMessage]</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="property-system_prompt--chatmessage"><em>property</em> system_prompt <em>: ChatMessage</em><a href="#property-system_prompt--chatmessage" class="hash-link" aria-label="Direct link to property-system_prompt--chatmessage" title="Direct link to property-system_prompt--chatmessage">​</a></h4>
<p>Retrieves the system prompt of the conversation.</p>
<p>The system prompt is a message that sets the initial context or instructions for the conversation.
It is typically used to guide the conversation’s flow and provide necessary background information.
Each time an agent takes a turn in the conversation, it updates the system prompt accordingly.</p>
<ul>
<li><strong>Returns:</strong>
The system prompt message if available, otherwise None.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="property-user_prompt--chatmessage"><em>property</em> user_prompt <em>: ChatMessage</em><a href="#property-user_prompt--chatmessage" class="hash-link" aria-label="Direct link to property-user_prompt--chatmessage" title="Direct link to property-user_prompt--chatmessage">​</a></h4>
<p>Retrieves the user prompt of the conversation.</p>
<p>The user prompt is a message that represents the user’s input or query in the conversation.
It is typically used to direct the agent’s next response.
Each time an agent takes a turn in the conversation, it updates the user prompt accordingly.</p>
<ul>
<li><strong>Returns:</strong>
The user prompt message if available, otherwise None.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="property-system_prompt_argument--genericsystempromptarg"><em>property</em> system_prompt_argument <em>: GenericSystemPromptArg</em><a href="#property-system_prompt_argument--genericsystempromptarg" class="hash-link" aria-label="Direct link to property-system_prompt_argument--genericsystempromptarg" title="Direct link to property-system_prompt_argument--genericsystempromptarg">​</a></h4>
<p>Retrieves the system prompt arguments.</p>
<p>The system prompt argument is used to render the system prompt message.
Each time an agent takes a turn in the conversation, it updates the system prompt argument.</p>
<ul>
<li><strong>Returns:</strong>
The system prompt arguments if available, otherwise None.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="property-user_prompt_argument--genericuserpromptarg"><em>property</em> user_prompt_argument <em>: GenericUserPromptArg</em><a href="#property-user_prompt_argument--genericuserpromptarg" class="hash-link" aria-label="Direct link to property-user_prompt_argument--genericuserpromptarg" title="Direct link to property-user_prompt_argument--genericuserpromptarg">​</a></h4>
<p>Retrieves the user prompt arguments.</p>
<p>The user prompt argument is used to render the user prompt message.
Each time an agent takes a turn in the conversation, it updates the user prompt argument.</p>
<ul>
<li><strong>Returns:</strong>
The user prompt arguments if available, otherwise None.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="property-metadata--dictstr-str"><em>property</em> metadata <em>: dict[str, str]</em><a href="#property-metadata--dictstr-str" class="hash-link" aria-label="Direct link to property-metadata--dictstr-str" title="Direct link to property-metadata--dictstr-str">​</a></h4>
<p>Provides a deep copy of the metadata dictionary to ensure immutability.</p>
<p>The metadata dictionary contains additional information about the conversation,
and can be freely defined and updated by the implementing system.</p>
<ul>
<li><strong>Returns:</strong>
A deep copy of the metadata dictionary.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="property-last_message--chatmessage"><em>property</em> last_message <em>: ChatMessage</em><a href="#property-last_message--chatmessage" class="hash-link" aria-label="Direct link to property-last_message--chatmessage" title="Direct link to property-last_message--chatmessage">​</a></h4>
<p>Retrieves the last message in the conversation.</p>
<p>This property returns the most recent ChatMessage object from the conversation’s chat history.
It is used to access the latest message exchanged in the conversation, which can be useful for
determining the current state or context of the conversation.</p>
<ul>
<li><strong>Returns:</strong>
The last message in the chat.</li>
<li><strong>Return type:</strong>
ChatMessage</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_agent_longterm_memoryagent_name">get_agent_longterm_memory(agent_name)<a href="#get_agent_longterm_memoryagent_name" class="hash-link" aria-label="Direct link to get_agent_longterm_memory(agent_name)" title="Direct link to get_agent_longterm_memory(agent_name)">​</a></h4>
<p>Provides a deep copy of the long-term memory for the specified agent.</p>
<p>This method retrieves the long-term memory associated with a given agent name.
Allowing the caller to safely modify the returned memory without affecting the original.</p>
<ul>
<li><strong>Parameters:</strong>
<strong>agent_name</strong> (<code>str</code>) – The name of the agent whose long-term memory is to be retrieved.</li>
<li><strong>Return type:</strong>
<code>LongtermMemory</code></li>
<li><strong>Returns:</strong>
A deep copy of the agent’s long-term memory, or None if no memory is found.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="update_agent_longterm_memoryagent_name-longterm_memory">update_agent_longterm_memory(agent_name, longterm_memory)<a href="#update_agent_longterm_memoryagent_name-longterm_memory" class="hash-link" aria-label="Direct link to update_agent_longterm_memory(agent_name, longterm_memory)" title="Direct link to update_agent_longterm_memory(agent_name, longterm_memory)">​</a></h4>
<p>Updates the long-term memory for a specific agent.</p>
<p>This method updates the long-term memory associated with the given agent name.
It returns a new instance of the Conversation with the updated long-term memory,
ensuring immutability of the conversation state.</p>
<ul>
<li><strong>Parameters:</strong>
<ul>
<li><strong>agent_name</strong> (<code>str</code>) – The name of the agent whose long-term memory is to be updated.</li>
<li><strong>longterm_memory</strong> (<code>LongtermMemory</code>) – The new long-term memory for the agent.</li>
</ul>
</li>
<li><strong>Return type:</strong>
<a href="#diskurs.immutable_conversation.ImmutableConversation"><code>ImmutableConversation</code></a></li>
<li><strong>Returns:</strong>
A new instance of the Conversation with updated long-term memory.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="update_prompt_argument_with_longterm_memoryconductor_name">update_prompt_argument_with_longterm_memory(conductor_name)<a href="#update_prompt_argument_with_longterm_memoryconductor_name" class="hash-link" aria-label="Direct link to update_prompt_argument_with_longterm_memory(conductor_name)" title="Direct link to update_prompt_argument_with_longterm_memory(conductor_name)">​</a></h4>
<p>Updates the prompt arguments with the long-term memory of the conductor agent.</p>
<p>This method retrieves the long-term memory associated with the specified conductor agent
and updates the prompt arguments of the conversation accordingly. It ensures that the
conversation’s state is updated with the relevant long-term memory data, preserving
immutability by returning a new instance of the Conversation.</p>
<ul>
<li><strong>Parameters:</strong>
<strong>conductor_name</strong> (<code>str</code>) – The name of the conductor agent whose long-term memory is to be used.</li>
<li><strong>Return type:</strong>
<a href="#diskurs.immutable_conversation.ImmutableConversation"><code>ImmutableConversation</code></a></li>
<li><strong>Returns:</strong>
A new instance of the Conversation with updated prompt arguments.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="updatechatnone-system_prompt_argumentnone-user_prompt_argumentnone-system_promptnone-user_promptnone-longterm_memorynone-metadatanone-active_agentnone">update(chat=None, system_prompt_argument=None, user_prompt_argument=None, system_prompt=None, user_prompt=None, longterm_memory=None, metadata=None, active_agent=None)<a href="#updatechatnone-system_prompt_argumentnone-user_prompt_argumentnone-system_promptnone-user_promptnone-longterm_memorynone-metadatanone-active_agentnone" class="hash-link" aria-label="Direct link to update(chat=None, system_prompt_argument=None, user_prompt_argument=None, system_prompt=None, user_prompt=None, longterm_memory=None, metadata=None, active_agent=None)" title="Direct link to update(chat=None, system_prompt_argument=None, user_prompt_argument=None, system_prompt=None, user_prompt=None, longterm_memory=None, metadata=None, active_agent=None)">​</a></h4>
<p>Returns a new instance of Conversation with updated fields, preserving immutability.</p>
<ul>
<li><strong>Parameters:</strong>
<ul>
<li><strong>chat</strong> (<code>Optional</code>[<code>list</code>[<code>ChatMessage</code>]]) – Optional list of ChatMessage objects representing the conversation’s chat history.</li>
<li><strong>system_prompt_argument</strong> (<code>Optional</code>[<code>TypeVar</code>(<code>GenericSystemPromptArg</code>, bound= PromptArgument)]) – Optional system prompt argument to update.</li>
<li><strong>user_prompt_argument</strong> (<code>Optional</code>[<code>TypeVar</code>(<code>GenericUserPromptArg</code>, bound= PromptArgument)]) – Optional user prompt argument to update.</li>
<li><strong>system_prompt</strong> (<code>Optional</code>[<code>ChatMessage</code>]) – Optional system prompt message to update.</li>
<li><strong>user_prompt</strong> (<code>Union</code>[<code>ChatMessage</code>, <code>list</code>[<code>ChatMessage</code>], <code>None</code>]) – Optional user prompt message(s) to update.</li>
<li><strong>longterm_memory</strong> (<code>Optional</code>[<code>dict</code>[<code>str</code>, <code>Any</code>]]) – Optional dictionary of long-term memory to update.</li>
<li><strong>metadata</strong> (<code>Optional</code>[<code>dict</code>[<code>str</code>, <code>str</code>]]) – Optional dictionary of metadata to update.</li>
<li><strong>active_agent</strong> (<code>Optional</code>[<code>str</code>]) – Optional name of the active agent to update.</li>
</ul>
</li>
<li><strong>Return type:</strong>
<a href="#diskurs.immutable_conversation.ImmutableConversation"><code>ImmutableConversation</code></a></li>
<li><strong>Returns:</strong>
A new instance of the Conversation class with updated fields.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="appendmessage-role-name">append(message, role=&#x27;&#x27;, name=&#x27;&#x27;)<a href="#appendmessage-role-name" class="hash-link" aria-label="Direct link to append(message, role=&#x27;&#x27;, name=&#x27;&#x27;)" title="Direct link to append(message, role=&#x27;&#x27;, name=&#x27;&#x27;)">​</a></h4>
<p>Appends a new chat message and returns a new instance of Conversation.</p>
<ul>
<li><strong>Parameters:</strong>
<ul>
<li><strong>message</strong> (<code>ChatMessage</code> | <code>list</code>[<code>ChatMessage</code>]) – The ChatMessage object to be added to the conversation, alternatively a string can be provided.</li>
<li><strong>role</strong> (<code>Optional</code>[<code>Role</code>]) – Only needed if message is str, the role (system, user, assistant)</li>
<li><strong>name</strong> (<code>Optional</code>[<code>str</code>]) – Only needed if message is str, name of the agent</li>
</ul>
</li>
<li><strong>Return type:</strong>
<a href="#diskurs.immutable_conversation.ImmutableConversation"><code>ImmutableConversation</code></a></li>
<li><strong>Returns:</strong>
A new instance of Conversation with the appended message.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="render_chatmessage_typemessagetypeconversation">render_chat(message_type=MessageType.CONVERSATION)<a href="#render_chatmessage_typemessagetypeconversation" class="hash-link" aria-label="Direct link to render_chat(message_type=MessageType.CONVERSATION)" title="Direct link to render_chat(message_type=MessageType.CONVERSATION)">​</a></h4>
<p>Returns the complete chat with the system prompt prepended and the user prompt appended.</p>
<p>This method generates a list of ChatMessage objects representing the full chat history.
It includes the system prompt at the beginning and the user prompt at the end of the chat.</p>
<ul>
<li><strong>Parameters:</strong>
<strong>message_type</strong> (<code>MessageType</code>) – The type of message to be rendered. Defaults to MessageType.CONVERSATION.</li>
<li><strong>Return type:</strong>
<code>list</code>[<code>ChatMessage</code>]</li>
<li><strong>Returns:</strong>
A list representing the full chat.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="is_empty">is_empty()<a href="#is_empty" class="hash-link" aria-label="Direct link to is_empty()" title="Direct link to is_empty()">​</a></h4>
<p>Checks if the chat is empty.</p>
<ul>
<li><strong>Return type:</strong>
<code>bool</code></li>
<li><strong>Returns:</strong>
True if the chat is empty, False otherwise.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="has_pending_tool_call">has_pending_tool_call()<a href="#has_pending_tool_call" class="hash-link" aria-label="Direct link to has_pending_tool_call()" title="Direct link to has_pending_tool_call()">​</a></h4>
<p>Checks if there is a pending tool call in the conversation.</p>
<ul>
<li><strong>Returns:</strong>
True if there is a pending tool call, False otherwise.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="has_pending_tool_response">has_pending_tool_response()<a href="#has_pending_tool_response" class="hash-link" aria-label="Direct link to has_pending_tool_response()" title="Direct link to has_pending_tool_response()">​</a></h4>
<p>Checks if there is a pending tool response in the conversation,
this would be the case if the last message was a tool call from
the LLM.</p>
<ul>
<li><strong>Return type:</strong>
<code>bool</code></li>
<li><strong>Returns:</strong>
True if there is a pending tool response, False otherwise.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="classmethod-from_dictdata-agents"><em>classmethod</em> from_dict(data, agents)<a href="#classmethod-from_dictdata-agents" class="hash-link" aria-label="Direct link to classmethod-from_dictdata-agents" title="Direct link to classmethod-from_dictdata-agents">​</a></h4>
<p>Creates a Conversation instance from a dictionary.</p>
<ul>
<li><strong>Parameters:</strong>
<ul>
<li><strong>data</strong> (<code>dict</code>[<code>str</code>, <code>Any</code>]) – The data dictionary.</li>
<li><strong>agents</strong> (<code>list</code>) – A list of agent instances.</li>
</ul>
</li>
<li><strong>Returns:</strong>
A new instance of Conversation.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="to_dict">to_dict()<a href="#to_dict" class="hash-link" aria-label="Direct link to to_dict()" title="Direct link to to_dict()">​</a></h4>
<p>Converts the Conversation instance to a dictionary.</p>
<ul>
<li><strong>Return type:</strong>
<code>dict</code>[<code>str</code>, <code>Any</code>]</li>
<li><strong>Returns:</strong>
A dictionary representation of the Conversation.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/agentic-diskurs/diskurs/edit/main/docs-site/docs/immutable_conversation.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/diskurs/docs/heuristic_agent"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Module: Heuristic Agent</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/diskurs/docs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Welcome to Diskurs’s documentation!</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#class-diskursimmutable_conversationimmutableconversationsystem_promptnone-user_promptnone-system_prompt_argumentnone-user_prompt_argumentnone-chatnone-longterm_memorynone-metadatanone-active_agent-conversation_id" class="table-of-contents__link toc-highlight"><em>class</em> diskurs.immutable_conversation.ImmutableConversation(system_prompt=None, user_prompt=None, system_prompt_argument=None, user_prompt_argument=None, chat=None, longterm_memory=None, metadata=None, active_agent=&#39;&#39;, conversation_id=&#39;&#39;)</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/diskurs/docs">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/agentic-diskurs/diskurs/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/diskurs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/agentic-diskurs/diskurs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Agentic Diskurs.</div></div></div></footer></div>
</body>
</html>